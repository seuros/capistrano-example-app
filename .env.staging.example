# Staging Environment Variables
# Copy to .env.staging and configure

# Rails
RAILS_ENV=production  # Use production env for realistic testing
RACK_ENV=production
RAILS_MASTER_KEY=your_master_key_here
RAILS_SERVE_STATIC_FILES=true  # May serve static files in staging
RAILS_LOG_TO_STDOUT=true
VERBOSE=1  # More verbose logging for debugging

# Database
DATABASE_URL=postgresql://deploy:password@localhost/sample_app_staging

# Redis (for Sidekiq)
REDIS_URL=redis://localhost:6379/1  # Different Redis DB

# Puma
WEB_CONCURRENCY=2
RAILS_MAX_THREADS=8
RAILS_MIN_THREADS=0
PUMA_PORT=9293
PUMA_SOCKET_PATH=/home/deploy/staging/shared/tmp/sockets/puma.sock
PUMA_CONTROL_PATH=/home/deploy/staging/shared/tmp/sockets/pumactl.sock

# Sidekiq
SIDEKIQ_CONCURRENCY=10
SIDEKIQ_HEAVY_CONCURRENCY=3
SIDEKIQ_LABEL=staging
MALLOC_ARENA_MAX=2

# Application
SECRET_KEY_BASE=your_staging_secret_key_base
APP_HOST=staging.example.com
FORCE_SSL=false  # May not have SSL in staging

# Email (use mail catcher or test service)
SMTP_ADDRESS=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_DOMAIN=staging.example.com

# Disable external services in staging
NEW_RELIC_LICENSE_KEY=
ROLLBAR_ACCESS_TOKEN=
SENTRY_DSN=

# Storage (use local or test bucket)
AWS_ACCESS_KEY_ID=your_staging_aws_key
AWS_SECRET_ACCESS_KEY=your_staging_aws_secret
AWS_REGION=us-east-1
AWS_BUCKET=your-staging-bucket